# Instructions pour Cursor - Étape 1.1.1

**Phase:** 1 - Fondations  
**Étape:** 1.1 - Module Administration & Sécurité  
**Fonctionnalité:** 1.1.1 - Modèle de données Utilisateurs, Organisations & Rôles

---

## Objectif

Mettre à jour le schéma Prisma (`schema.prisma`) pour inclure les modèles nécessaires à la gestion des utilisateurs, des organisations (multi-tenant), des rôles et des permissions, conformément au cahier des charges.

## Instructions Détaillées

**Fichier à modifier:** `/packages/database/prisma/schema.prisma`

### 1. Modèle `Organization`

Créez un modèle `Organization` pour supporter l'architecture multi-tenant. Chaque utilisateur appartiendra à une organisation.

- **Champs:**
    - `id`: `String` (cuid)
    - `name`: `String`
    - `slug`: `String` (unique) - pour les URLs
    - `logo`: `String` (optionnel)
    - `users`: Relation `User[]`
    - `createdAt`: `DateTime` (default: `now()`)
    - `updatedAt`: `DateTime` (updatedAt)

### 2. Mettre à jour le Modèle `User`

Modifiez le modèle `User` existant pour l'intégrer avec les organisations et les rôles.

- **Ajouter/Modifier les champs:**
    - `organizationId`: `String` - pour lier l'utilisateur à une `Organization`
    - `organization`: Relation `Organization`
    - `role`: `Role` (Enum) - le rôle de l'utilisateur dans l'organisation
    - `firstName`: `String` (optionnel)
    - `lastName`: `String` (optionnel)

### 3. Créer l'Enum `Role`

Définissez une énumération `Role` pour gérer les niveaux de permission, comme décrit dans la section 2.4 du cahier des charges.

- **Valeurs:**
    - `ADMIN`: Administrateur système
    - `DIRECTOR`: Gestionnaire Philanthropique (Directeur)
    - `MANAGER`: Gestionnaire de Campagnes

### 4. Modèle `Donator` (Ébauche)

Pour préparer la suite, ajoutez une ébauche du modèle `Donator`. Il sera complété dans l'étape 1.2.

- **Champs:**
    - `id`: `String` (cuid)
    - `email`: `String` (unique)
    - `firstName`: `String` (optionnel)
    - `lastName`: `String` (optionnel)
    - `organizationId`: `String` - pour lier le donateur à une `Organization`
    - `organization`: Relation `Organization`
    - `createdAt`: `DateTime` (default: `now()`)
    - `updatedAt`: `DateTime` (updatedAt)

## Résultat Attendu

Le fichier `schema.prisma` doit contenir les modèles `Organization` et `Donator`, l'enum `Role`, et le modèle `User` mis à jour avec les nouvelles relations et champs. 

Une fois que vous aurez appliqué ces changements, je vérifierai le schéma avant de vous donner les instructions pour la prochaine étape (le système d'authentification).

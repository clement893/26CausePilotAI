# Instructions Détaillées pour Cursor - Étape 2.1.4

**Phase:** 2 - Collecte  
**Étape:** 2.1 - Module Formulaires de Don  
**Fonctionnalité:** 2.1.4 - Page Publique du Formulaire  
**Prérequis:** Étape 2.1.3 complétée

---

## Contexte

Nous créons la page publique où les donateurs peuvent faire un don. Cette page doit être dynamique et s'adapter à la configuration du formulaire créé dans le Form Builder.

**Référence cahier des charges:** Section 5.2.2 - Expérience Donateur Fluide

---

## 1. Page Publique du Formulaire

**Créer:** `/apps/web/app/don/[slug]/page.tsx` (route publique, pas de `[locale]`)

### Structure de la Page

- **Header** avec le logo de l'organisation
- **Image de couverture**
- **Titre** et **description** du formulaire
- **Barre de progression** (si un objectif est défini)
- **Section 1 : Sélection du montant**
  - Boutons pour les montants suggérés
  - Input pour un montant personnalisé
  - Toggle pour les dons récurrents
- **Section 2 : Informations du donateur**
  - Tous les champs configurés dans le Form Builder
- **Section 3 : Paiement**
  - Intégration Stripe Elements
  - Bouton PayPal
- **Section 4 : Consentements**
  - Checkboxes pour les consentements configurés
- **Bouton de don** (avec le montant total)

### Page de Remerciement

**Créer:** `/apps/web/app/don/[slug]/merci/page.tsx`

- Message de remerciement personnalisé
- Résumé du don (montant, date, etc.)
- Boutons de partage sur les réseaux sociaux
- Redirection automatique (si configurée)

---

## 2. Composants Réutilisables

- **AmountSelector** - Le composant pour sélectionner le montant et la récurrence
- **DonatorInfoForm** - Le formulaire dynamique pour les informations du donateur
- **PaymentSection** - La section pour Stripe et PayPal
- **ConsentCheckboxes** - Les checkboxes pour les consentements
- **ProgressBar** - La barre de progression pour l'objectif de collecte

---

## 3. Actions Serveur

- **submitDonationFormAction** - Soumet le formulaire, crée le PaymentIntent, et gère la redirection
- **trackFormViewAction** - Incrémente le compteur de vues du formulaire

---

## 4. Vérifications Importantes

- ✅ La page s'affiche correctement avec les données du formulaire
- ✅ La sélection de montant fonctionne
- ✅ Le formulaire d'informations du donateur est correct
- ✅ L'intégration de paiement fonctionne
- ✅ La page de remerciement s'affiche après un don réussi

---

## 5. Prochaine Étape

Une fois cette étape complétée, Manus préparera les instructions pour **2.2.1 - Configuration des Passerelles de Paiement**.
